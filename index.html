<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Vv by joshuacox</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Vv</h1>
        <h2>VV - the command line wrapper for long running tasks</h2>

        <section id="downloads">
          <a href="https://github.com/joshuacox/vv/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/joshuacox/vv/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/joshuacox/vv" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="vv" class="anchor" href="#vv" aria-hidden="true"><span class="octicon octicon-link"></span></a>vv</h1>

<p>VV is a wrapper for command line tasks, it's most important feature is that it makes a noise when it is done, allowing me to background and do something else while the task completes, then I generally wrap some nice and ionice and /usr/bin/time -v into the command to make it nice and give me an idea of how long it took.  I added the time sync, to let me know how much of the above the kernel is trying to hide from me as well (of course the sync may reflect something else going on in the system, in any case I think it's a good idea to let the discs sync in general before other things commence and no need to alert me till afterwards)</p>

<p>notes: I imagine there are some escaping issues that could be uncovered by throwing lot’s of interpretation snafu at it in $@  i.e. I imagine I’ll have to throw some escape trickery in there at some point.  I’ll fix it when I run into one of those cases, but for now I’m using this daily without issue.  I tend to escape things pretty heavily though, so I might not run into one of those cases anytime soon.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p><code>cp vv /usr/local/bin</code>
or somewhere in your path</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>just place vv at the start of your command line
e.g.</p>

<pre><code>vv apt-get upgrade -y
</code></pre>

<p>or (I’ll give some example output in this one)</p>

<pre><code>vv dd if=/dev/zero of=/tmp/testfile bs=1M count=4010     
4010+0 records in
4010+0 records out
4204789760 bytes (4.2 GB) copied, 0.852751 s, 4.9 GB/s
        Command being timed: "nice ionice -c3 dd if=/dev/zero of=/tmp/testfile bs=1M count=4010"
        User time (seconds): 0.00
        System time (seconds): 0.87
        Percent of CPU this job got: 99%
        Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.87
        Average shared text size (kbytes): 0
        Average unshared data size (kbytes): 0
        Average stack size (kbytes): 0
        Average total size (kbytes): 0
        Maximum resident set size (kbytes): 2872
        Average resident set size (kbytes): 0
        Major (requiring I/O) page faults: 0
        Minor (reclaiming a frame) page faults: 459
        Voluntary context switches: 1
        Involuntary context switches: 12
        Swaps: 0
        File system inputs: 0
        File system outputs: 0
        Socket messages sent: 0
        Socket messages received: 0
        Signals delivered: 0
        Page size (bytes): 4096
        Exit status: 0

real    0m0.082s
user    0m0.000s
sys     0m0.012s

Audio Device:   Advanced Linux Sound Architecture (ALSA) output

Playing: /usr/share/sounds/KDE-Im-Irc-Event.ogg
Ogg Vorbis stream: 2 channel, 48000 Hz

Done.
</code></pre>

<h3>
<a id="notes-caveats-troubleshooting" class="anchor" href="#notes-caveats-troubleshooting" aria-hidden="true"><span class="octicon octicon-link"></span></a>notes, caveats, troubleshooting</h3>

<p>There are some escaping issues that can be uncovered by throwing lot’s of interpretation snafu at it in $@
i.e. I imagine I’ll have to throw some escape trickery in there at some point.  I’ll fix it when I run into one of those cases, but for now I’m using this daily without issue.
I’m open to suggestions on better encapsulation inside the script</p>

<p>some examples of how it might get borked are here:
<a href="http://unix.stackexchange.com/questions/57830/trouble-in-script-with-spaces-in-filename">http://unix.stackexchange.com/questions/57830/trouble-in-script-with-spaces-in-filename</a></p>

<p>e.g. this works fine</p>

<pre><code>vv sudo cp -a 'VirtualBox VMs' /mnt/virtualbox/
</code></pre>

<p>but this does not</p>

<pre><code>vv sudo cp -a VirtualBox\ VMs /mnt/virtualbox/
</code></pre>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63021030-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
